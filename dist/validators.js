var e={},t={validateModule:function e(t,{instancePath:a="",parentData:n,parentDataProperty:i,rootData:r=t}={}){let p=null,d=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:a,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===p?p=[e]:p.push(e),d++}o(t,{instancePath:a,parentData:n,parentDataProperty:i,rootData:r})||(p=null===p?o.errors:p.concat(o.errors),d=p.length);if(d>0){const e={type:[]},t={};for(const t of p)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===a&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const n in e)if(e[n].length){const i={instancePath:a,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in t?t[n]():s.errorMessage[n]};null===p?p=[i]:p.push(i),d++}const n=[];for(const e of p)e.emUsed||n.push(e);p=n,d=n.length}return e.errors=p,0===d}};const s={$id:"validateModule",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT module.json",type:"object",allOf:[{$ref:"../../shared/properties/loose/module.json"}],errorMessage:{type:"package manifest should be an object"}},a={description:"Packages can require other modules, systems, or worlds be installed to allow their use. If a package has been installed with dependencies, but its dependencies are missing it cannot be enabled.",items:{properties:{manifest:{description:"The manifest attribute provides an explicit manifest URL to be used for downloading the dependency. If a manifest is not provided, the dependency package must exist in the Foundry VTT website directory.",examples:["https://gitlab.com/riccisi/foundryvtt-dice-so-nice/raw/master/module/module.json"],title:"Manifest URL",type:"string"},name:{description:"Dependency entries require the name attribute. If only a name is provided, additional details about the package will be discovered from the Foundry VTT website listing.",examples:["dice-so-nice"],title:"Package Name",type:"string"},type:{description:"The type attribute instructs Foundry VTT that the dependency may be on a different type of package. By default dependencies are assumed to be module, so if you want to depend on a system or world you should be explicit.",enum:["module","system","world"],examples:["module","system","world"],title:"Package Type"}},required:["name"],title:"Dependency Entry",type:"object"},title:"Dependencies",type:"array"};function n(e,{instancePath:t="",parentData:s,parentDataProperty:i,rootData:r=e}={}){let o=null,p=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.title){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"title"},message:"must have required property 'title'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.description){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"description"},message:"must have required property 'description'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.author){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"author"},message:"must have required property 'author'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.version){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"version"},message:"must have required property 'version'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.minimumCoreVersion){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"minimumCoreVersion"},message:"must have required property 'minimumCoreVersion'"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.author&&"string"!=typeof e.author){const e={instancePath:t+"/author",schemaPath:"../../definitions/loose/base.json#/definitions/author/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.bugs&&"string"!=typeof e.bugs){const e={instancePath:t+"/bugs",schemaPath:"../../definitions/loose/base.json#/definitions/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.changelog&&"string"!=typeof e.changelog){const e={instancePath:t+"/changelog",schemaPath:"../../definitions/loose/base.json#/definitions/changelog/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.compatibleCoreVersion&&"string"!=typeof e.compatibleCoreVersion){const e={instancePath:t+"/compatibleCoreVersion",schemaPath:"../../definitions/loose/base.json#/definitions/compatibleCoreVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.dependencies){let s=e.dependencies;if(Array.isArray(s)){const e=s.length;for(let n=0;n<e;n++){let e=s[n];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){const e={instancePath:t+"/dependencies/"+n,schemaPath:"../../definitions/loose/base.json#/definitions/dependencies/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.manifest&&"string"!=typeof e.manifest){const e={instancePath:t+"/dependencies/"+n+"/manifest",schemaPath:"../../definitions/loose/base.json#/definitions/dependencies/items/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/dependencies/"+n+"/name",schemaPath:"../../definitions/loose/base.json#/definitions/dependencies/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.type){let s=e.type;if("module"!==s&&"system"!==s&&"world"!==s){const e={instancePath:t+"/dependencies/"+n+"/type",schemaPath:"../../definitions/loose/base.json#/definitions/dependencies/items/properties/type/enum",keyword:"enum",params:{allowedValues:a.items.properties.type.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),p++}}}else{const e={instancePath:t+"/dependencies/"+n,schemaPath:"../../definitions/loose/base.json#/definitions/dependencies/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),p++}}}else{const e={instancePath:t+"/dependencies",schemaPath:"../../definitions/loose/base.json#/definitions/dependencies/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}}if(void 0!==e.description&&"string"!=typeof e.description){const e={instancePath:t+"/description",schemaPath:"../../definitions/loose/base.json#/definitions/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.download&&"string"!=typeof e.download){const e={instancePath:t+"/download",schemaPath:"../../definitions/loose/base.json#/definitions/download/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.esmodules){let s=e.esmodules;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++)if("string"!=typeof s[a]){const e={instancePath:t+"/esmodules/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/esmodules/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/esmodules",schemaPath:"../../definitions/loose/base.json#/definitions/esmodules/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}}if(void 0!==e.languages){let s=e.languages;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.lang){const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/required",keyword:"required",params:{missingProperty:"lang"},message:"must have required property 'lang'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.name){const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.path){const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.lang&&"string"!=typeof e.lang){const e={instancePath:t+"/languages/"+a+"/lang",schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/properties/lang/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/languages/"+a+"/name",schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.path&&"string"!=typeof e.path){const e={instancePath:t+"/languages/"+a+"/path",schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/languages/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),p++}}}else{const e={instancePath:t+"/languages",schemaPath:"../../definitions/loose/base.json#/definitions/languages/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}}if(void 0!==e.license&&"string"!=typeof e.license){const e={instancePath:t+"/license",schemaPath:"../../definitions/loose/base.json#/definitions/license/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.minimumCoreVersion&&"string"!=typeof e.minimumCoreVersion){const e={instancePath:t+"/minimumCoreVersion",schemaPath:"../../definitions/loose/base.json#/definitions/minimumCoreVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/name",schemaPath:"../../definitions/loose/base.json#/definitions/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.readme&&"string"!=typeof e.readme){const e={instancePath:t+"/readme",schemaPath:"../../definitions/loose/base.json#/definitions/readme/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.scripts){let s=e.scripts;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++)if("string"!=typeof s[a]){const e={instancePath:t+"/scripts/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/scripts/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/scripts",schemaPath:"../../definitions/loose/base.json#/definitions/scripts/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}}if(void 0!==e.socket&&"boolean"!=typeof e.socket){const e={instancePath:t+"/socket",schemaPath:"../../definitions/loose/base.json#/definitions/socket/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.styles){let s=e.styles;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++)if("string"!=typeof s[a]){const e={instancePath:t+"/styles/"+a,schemaPath:"../../definitions/loose/base.json#/definitions/styles/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/styles",schemaPath:"../../definitions/loose/base.json#/definitions/styles/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}}if(void 0!==e.title&&"string"!=typeof e.title){const e={instancePath:t+"/title",schemaPath:"../../definitions/loose/base.json#/definitions/title/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.url&&"string"!=typeof e.url){const e={instancePath:t+"/url",schemaPath:"../../definitions/loose/base.json#/definitions/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.version){let s=e.version;const a=p;let n=!1,i=null;const r=p;if("string"!=typeof s){const e={instancePath:t+"/version",schemaPath:"../../definitions/loose/base.json#/definitions/version/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}(d=r===p)&&(n=!0,i=0);const c=p;if("number"!=typeof s||!isFinite(s)){const e={instancePath:t+"/version",schemaPath:"../../definitions/loose/base.json#/definitions/version/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===o?o=[e]:o.push(e),p++}var d;if((d=c===p)&&n?(n=!1,i=[i,1]):d&&(n=!0,i=1),n)p=a,null!==o&&(a?o.length=a:o=null);else{const e={instancePath:t+"/version",schemaPath:"../../definitions/loose/base.json#/definitions/version/oneOf",keyword:"oneOf",params:{passingSchemas:i},message:"must match exactly one schema in oneOf"};null===o?o=[e]:o.push(e),p++}if(p>0){const e=[];for(const s of o)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/version"&&(0!==s.instancePath.indexOf(t+"/version")||"/"!==s.instancePath[t+"/version".length])||0!==s.schemaPath.indexOf("../../definitions/loose/base.json#/definitions/version")||"/"!==s.schemaPath["../../definitions/loose/base.json#/definitions/version".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/version",schemaPath:"../../definitions/loose/base.json#/definitions/version/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or number"};null===o?o=[s]:o.push(s),p++}const s=[];for(const e of o)e.emUsed||s.push(e);o=s,p=s.length}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),p++}return n.errors=o,0===p}function i(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:r=e}={}){let o=null,p=0;if(n(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:r})||(o=null===o?n.errors:o.concat(n.errors),p=o.length),e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.manifest&&"string"!=typeof e.manifest){const e={instancePath:t+"/manifest",schemaPath:"../../definitions/loose/module.json#/definitions/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.packs){let s=e.packs;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.module){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"module"},message:"must have required property 'module'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.name){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.label){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.path){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'"};null===o?o=[e]:o.push(e),p++}if(void 0===e.entity){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"entity"},message:"must have required property 'entity'"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.system){let s=e.system;const n=p;let i=!1,r=null;const c=p;if("string"!=typeof s){const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/system/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}(d=c===p)&&(i=!0,r=0);const m=p;if(Array.isArray(s)){const e=s.length;for(let n=0;n<e;n++)if("string"!=typeof s[n]){const e={instancePath:t+"/packs/"+a+"/system/"+n,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/system/oneOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/system/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}var d;if((d=m===p)&&i?(i=!1,r=[r,1]):d&&(i=!0,r=1),i)p=n,null!==o&&(n?o.length=n:o=null);else{const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/system/oneOf",keyword:"oneOf",params:{passingSchemas:r},message:"must match exactly one schema in oneOf"};null===o?o=[e]:o.push(e),p++}if(p>0){const e=[];for(const s of o)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/packs/"+a+"/system"&&(0!==s.instancePath.indexOf(t+"/packs/"+a+"/system")||"/"!==s.instancePath[t+"/packs/"+a+"/system".length])||0!==s.schemaPath.indexOf("../../definitions/loose/module.json#/definitions/packs/items/properties/system")||"/"!==s.schemaPath["../../definitions/loose/module.json#/definitions/packs/items/properties/system".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/system/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or array of strings"};null===o?o=[s]:o.push(s),p++}const s=[];for(const e of o)e.emUsed||s.push(e);o=s,p=s.length}}if(void 0!==e.entity&&"string"!=typeof e.entity){const e={instancePath:t+"/packs/"+a+"/entity",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/entity/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.label&&"string"!=typeof e.label){const e={instancePath:t+"/packs/"+a+"/label",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.module&&"string"!=typeof e.module){const e={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/module/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}if(void 0!==e.path&&"string"!=typeof e.path){const e={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/packs/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),p++}}}else{const e={instancePath:t+"/packs",schemaPath:"../../definitions/loose/module.json#/definitions/packs/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}}if(void 0!==e.system){let s=e.system;const a=p;let n=!1,i=null;const r=p;if("string"!=typeof s){const e={instancePath:t+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/system/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}(c=r===p)&&(n=!0,i=0);const d=p;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++)if("string"!=typeof s[a]){const e={instancePath:t+"/system/"+a,schemaPath:"../../definitions/loose/module.json#/definitions/system/oneOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),p++}}else{const e={instancePath:t+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/system/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===o?o=[e]:o.push(e),p++}var c;if((c=d===p)&&n?(n=!1,i=[i,1]):c&&(n=!0,i=1),n)p=a,null!==o&&(a?o.length=a:o=null);else{const e={instancePath:t+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/system/oneOf",keyword:"oneOf",params:{passingSchemas:i},message:"must match exactly one schema in oneOf"};null===o?o=[e]:o.push(e),p++}if(p>0){const e=[];for(const s of o)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/system"&&(0!==s.instancePath.indexOf(t+"/system")||"/"!==s.instancePath[t+"/system".length])||0!==s.schemaPath.indexOf("../../definitions/loose/module.json#/definitions/system")||"/"!==s.schemaPath["../../definitions/loose/module.json#/definitions/system".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/system",schemaPath:"../../definitions/loose/module.json#/definitions/system/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or array of strings"};null===o?o=[s]:o.push(s),p++}const s=[];for(const e of o)e.emUsed||s.push(e);o=s,p=s.length}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),p++}return i.errors=o,0===p}function r(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,o=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),o++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),o++}if(void 0!==s.email&&"string"!=typeof s.email){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}if(void 0!==s.url&&"string"!=typeof s.url){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),o++}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),o++}return r.errors=i,0===o}function o(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let p=null,d=0;if(i(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(p=null===p?i.errors:p.concat(i.errors),d=p.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(r(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(p=null===p?r.errors:p.concat(r.errors),d=p.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===p?p=[e]:p.push(e),d++}return o.errors=p,0===d}t.validateModulePlus=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}f(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?f.errors:r.concat(f.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():p.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const p={$id:"validateModulePlus",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT module.json w/ manifest+",type:"object",allOf:[{$ref:"../../shared/properties/loose/module+.json"}],errorMessage:{type:"package manifest should be an object"}},d={description:"The `conflicts` field is similar to the `dependencies` field in the core Foundry VTT manifest specification, but provides a mapping of packages which can not interoperate with the given package.",items:{properties:{name:{description:"The name of the conflict package.",examples:["dice-so-nice"],title:"Conflict Package Name",type:"string"},type:{description:"The type of the conflict package",enum:["module","system","world"],examples:["module","system","world"],title:"Conflict Package Type"},versionMax:{description:"Defines a maximum version number for the package within which the conflict occurs.",errorMessage:"should be a string or number",examples:["1.0.0"],oneOf:[{type:"string"},{type:"number"}],title:"Conflict Maximum Version"},versionMin:{description:"Defines a minimum version number for the package within which the conflict occurs.",errorMessage:"should be a string or number",examples:["1.0.0"],oneOf:[{type:"string"},{type:"number"}],title:"Conflict Minimum Version"}},required:["name","type"],title:"Conflict Entry",type:"object"},title:"Conflicts",type:"array"},c={description:"An object that provides data for a single multimedia item.",required:["type","url"],title:"Media Entry",type:"object",properties:{type:{description:"Indicates what kind of media.",enum:["cover","icon","screenshot","video"],title:"Media Type"},url:{description:"Public URL of the media resource.",title:"Media URL",type:"string"},loop:{description:"Optional field specific to video media. If loop is set to true, the video is expected to be treated as an animated image, like a GIF (i.e. muted and looped).",title:"Video Loop",type:"boolean"},thumbnail:{description:"Optional URL to provide a video thumbnail.",title:"Video Thumbnail",type:"string"}}};function m(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.type){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-loose/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===i?i=[e]:i.push(e),r++}if(void 0===s.url){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-loose/required",keyword:"required",params:{missingProperty:"url"},message:"must have required property 'url'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.type){let e=s.type;if("cover"!==e&&"icon"!==e&&"screenshot"!==e&&"video"!==e){const e={instancePath:t+"/"+a+"/type",schemaPath:"#/definitions/media-item-loose/properties/type/enum",keyword:"enum",params:{allowedValues:c.properties.type.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}if(void 0!==s.url&&"string"!=typeof s.url){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-loose/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.loop&&"boolean"!=typeof s.loop){const e={instancePath:t+"/"+a+"/loop",schemaPath:"#/definitions/media-item-loose/properties/loop/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.thumbnail&&"string"!=typeof s.thumbnail){const e={instancePath:t+"/"+a+"/thumbnail",schemaPath:"#/definitions/media-item-loose/properties/thumbnail/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-loose/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return m.errors=i,0===r}function h(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.conflicts){let s=e.conflicts;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){const e={instancePath:t+"/conflicts/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.type){const e={instancePath:t+"/conflicts/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/conflicts/"+a+"/name",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.type){let s=e.type;if("module"!==s&&"system"!==s&&"world"!==s){const e={instancePath:t+"/conflicts/"+a+"/type",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/type/enum",keyword:"enum",params:{allowedValues:d.items.properties.type.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.versionMax){let s=e.versionMax;const n=r;let p=!1,d=null;const c=r;if("string"!=typeof s){const e={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(o=c===r)&&(p=!0,d=0);const m=r;if("number"!=typeof s||!isFinite(s)){const e={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),r++}var o;if((o=m===r)&&p?(p=!1,d=[d,1]):o&&(p=!0,d=1),p)r=n,null!==i&&(n?i.length=n:i=null);else{const e={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/conflicts/"+a+"/versionMax"&&(0!==s.instancePath.indexOf(t+"/conflicts/"+a+"/versionMax")||"/"!==s.instancePath[t+"/conflicts/"+a+"/versionMax".length])||0!==s.schemaPath.indexOf("../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMax")||"/"!==s.schemaPath["../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMax".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or number"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}if(void 0!==e.versionMin){let s=e.versionMin;const n=r;let o=!1,d=null;const c=r;if("string"!=typeof s){const e={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(p=c===r)&&(o=!0,d=0);const m=r;if("number"!=typeof s||!isFinite(s)){const e={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),r++}var p;if((p=m===r)&&o?(o=!1,d=[d,1]):p&&(o=!0,d=1),o)r=n,null!==i&&(n?i.length=n:i=null);else{const e={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/conflicts/"+a+"/versionMin"&&(0!==s.instancePath.indexOf(t+"/conflicts/"+a+"/versionMin")||"/"!==s.instancePath[t+"/conflicts/"+a+"/versionMin".length])||0!==s.schemaPath.indexOf("../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMin")||"/"!==s.schemaPath["../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMin".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or number"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}}else{const e={instancePath:t+"/conflicts/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/conflicts",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/conflicts/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.deprecated){let s=e.deprecated;if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0!==s.alternatives){let e=s.alternatives;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/deprecated/alternatives/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===s.manifest){const e={instancePath:t+"/deprecated/alternatives/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/required",keyword:"required",params:{missingProperty:"manifest"},message:"must have required property 'manifest'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/deprecated/alternatives/"+a+"/name",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.manifest&&"string"!=typeof s.manifest){const e={instancePath:t+"/deprecated/alternatives/"+a+"/manifest",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/deprecated/alternatives/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/deprecated/alternatives",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/alternatives/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==s.coreVersion&&"string"!=typeof s.coreVersion){const e={instancePath:t+"/deprecated/coreVersion",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/coreVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.reason&&"string"!=typeof s.reason){const e={instancePath:t+"/deprecated/reason",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/properties/reason/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/deprecated",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/deprecated/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.includes){let s=e.includes;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++)if("string"!=typeof s[a]){const e={instancePath:t+"/includes/"+a,schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/includes/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/includes",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/includes/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.library&&"boolean"!=typeof e.library){const e={instancePath:t+"/library",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/library/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.manifestPlusVersion&&"string"!=typeof e.manifestPlusVersion){const e={instancePath:t+"/manifestPlusVersion",schemaPath:"../../definitions/loose/base-manifest+.json#/definitions/manifestPlusVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}void 0!==e.media&&(m(e.media,{instancePath:t+"/media",parentData:e,parentDataProperty:"media",rootData:n})||(i=null===i?m.errors:i.concat(m.errors),r=i.length))}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return h.errors=i,0===r}function l(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email&&"string"!=typeof s.email){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url&&"string"!=typeof s.url){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0!==s.discord&&"string"!=typeof s.discord){const e={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s["ko-fi"]&&"string"!=typeof s["ko-fi"]){const e={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.patreon&&"string"!=typeof s.patreon){const e={instancePath:t+"/"+a+"/patreon",schemaPath:"#/definitions/properties-author+/properties/patreon/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.reddit&&"string"!=typeof s.reddit){const e={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.twitter&&"string"!=typeof s.twitter){const e={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return l.errors=i,0===r}function f(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let r=null,o=0;if(h(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(r=null===r?h.errors:r.concat(h.errors),o=r.length),i(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(r=null===r?i.errors:r.concat(i.errors),o=r.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(l(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(r=null===r?l.errors:r.concat(l.errors),o=r.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}return f.errors=r,0===o}t.validateSystem=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}k(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?k.errors:r.concat(k.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():u.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const u={$id:"validateSystem",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT system.json",type:"object",allOf:[{$ref:"../../shared/properties/loose/system.json"}],errorMessage:{type:"package manifest should be an object"}},y={description:"An attribute path within the system data model that points to an object that contains both a value and max key. The prototype Token for each Actor created in this system will automatically have this resource assigned as it's primary bar. Omit this key or set it to null for no default attribute.",examples:["resources.health"],title:"Primary Token Attribute",type:["null","string"]},g={description:"An attribute path within the system data model that points to an object that contains both a value and max key. The prototype Token for each Actor created in this system will automatically have this resource assigned as it's secondary bar. Omit this key or set it to null for no default attribute.",examples:["resources.power"],title:"Secondary Token Attribute",type:["null","string"]};function P(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:i=e}={}){let r=null,o=0;if(n(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:i})||(r=null===r?n.errors:r.concat(n.errors),o=r.length),e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.gridDistance){let s=e.gridDistance;if("number"!=typeof s||s%1||isNaN(s)||!isFinite(s)){const e={instancePath:t+"/gridDistance",schemaPath:"../../definitions/loose/system.json#/definitions/gridDistance/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===r?r=[e]:r.push(e),o++}}if(void 0!==e.gridUnits&&"string"!=typeof e.gridUnits){const e={instancePath:t+"/gridUnits",schemaPath:"../../definitions/loose/system.json#/definitions/gridUnits/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.initiative&&"string"!=typeof e.initiative){const e={instancePath:t+"/initiative",schemaPath:"../../definitions/loose/system.json#/definitions/initiative/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.manifest&&"string"!=typeof e.manifest){const e={instancePath:t+"/manifest",schemaPath:"../../definitions/loose/system.json#/definitions/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.packs){let s=e.packs;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.system){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"system"},message:"must have required property 'system'"};null===r?r=[e]:r.push(e),o++}if(void 0===e.name){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===r?r=[e]:r.push(e),o++}if(void 0===e.label){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===r?r=[e]:r.push(e),o++}if(void 0===e.path){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'"};null===r?r=[e]:r.push(e),o++}if(void 0===e.entity){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"entity"},message:"must have required property 'entity'"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.system&&"string"!=typeof e.system){const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/properties/system/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.entity&&"string"!=typeof e.entity){const e={instancePath:t+"/packs/"+a+"/entity",schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/properties/entity/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.label&&"string"!=typeof e.label){const e={instancePath:t+"/packs/"+a+"/label",schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.module&&"string"!=typeof e.module){const e={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/properties/module/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}if(void 0!==e.path&&"string"!=typeof e.path){const e={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===r?r=[e]:r.push(e),o++}}else{const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/loose/system.json#/definitions/packs/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}}}else{const e={instancePath:t+"/packs",schemaPath:"../../definitions/loose/system.json#/definitions/packs/type",keyword:"type",params:{type:"array"},message:"must be array"};null===r?r=[e]:r.push(e),o++}}if(void 0!==e.primaryTokenAttribute){let s=e.primaryTokenAttribute;if(null!==s&&"string"!=typeof s){const e={instancePath:t+"/primaryTokenAttribute",schemaPath:"../../definitions/loose/system.json#/definitions/primaryTokenAttribute/type",keyword:"type",params:{type:y.type},message:"must be null,string"};null===r?r=[e]:r.push(e),o++}}if(void 0!==e.secondaryTokenAttribute){let s=e.secondaryTokenAttribute;if(null!==s&&"string"!=typeof s){const e={instancePath:t+"/secondaryTokenAttribute",schemaPath:"../../definitions/loose/system.json#/definitions/secondaryTokenAttribute/type",keyword:"type",params:{type:g.type},message:"must be null,string"};null===r?r=[e]:r.push(e),o++}}if(void 0!==e.templateVersion){let s=e.templateVersion;if("number"!=typeof s||s%1||isNaN(s)||!isFinite(s)){const e={instancePath:t+"/templateVersion",schemaPath:"../../definitions/loose/system.json#/definitions/templateVersion/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===r?r=[e]:r.push(e),o++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}return P.errors=r,0===o}function b(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email&&"string"!=typeof s.email){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url&&"string"!=typeof s.url){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return b.errors=i,0===r}function k(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(P(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?P.errors:i.concat(P.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(b(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(i=null===i?b.errors:i.concat(b.errors),r=i.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return k.errors=i,0===r}t.validateSystemPlus=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}j(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?j.errors:r.concat(j.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():w.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const w={$id:"validateSystemPlus",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT system.json w/ manifest+",type:"object",allOf:[{$ref:"../../shared/properties/loose/system+.json"}],errorMessage:{type:"package manifest should be an object"}};function v(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email&&"string"!=typeof s.email){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url&&"string"!=typeof s.url){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0!==s.discord&&"string"!=typeof s.discord){const e={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s["ko-fi"]&&"string"!=typeof s["ko-fi"]){const e={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.patreon&&"string"!=typeof s.patreon){const e={instancePath:t+"/"+a+"/patreon",schemaPath:"#/definitions/properties-author+/properties/patreon/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.reddit&&"string"!=typeof s.reddit){const e={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.twitter&&"string"!=typeof s.twitter){const e={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return v.errors=i,0===r}function j(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(h(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?h.errors:i.concat(h.errors),r=i.length),P(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?P.errors:i.concat(P.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(v(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(i=null===i?v.errors:i.concat(v.errors),r=i.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return j.errors=i,0===r}t.validateModuleStrict=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}te(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?te.errors:r.concat(te.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():A.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const A={$id:"validateModuleStrict",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT module.json w/ strict requirements",type:"object",allOf:[{$ref:"../../shared/properties/strict/module.json"}],errorMessage:{type:"package manifest should be an object"}},M={description:"A stable URL that describes the latest release version of your manifest file.",examples:["https://someaddress.com/module.json"],title:"Manifest",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/module.json$",errorMessage:{pattern:"should be an URL string ending in 'module.json'"}},z={items:{required:["module","name","label","path","entity"],properties:{system:{description:'A system ID or array of system IDs which are required in order to use this module. For example, specifying "system": "dnd5e" will only allow the module to be used by Worlds which are running the dnd5e game system.',examples:["dnd5e"],oneOf:[{type:"string",pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},{items:{type:"string",pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},type:"array"}],title:"Pack System",errorMessage:"should be a string or array of strings that are alpha-numeric with only underscore and hyphen separators"},entity:{description:"Each compendium pack must designate a specific Entity type that it contains.",examples:["Actor","Item","Scene","JournalEntry","Macro","RollTable","Playlist"],title:"Pack Entity",enum:["Actor","Item","Scene","JournalEntry","Macro","RollTable","Playlist"]},label:{description:"The compendium pack label - this should be a human readable string label which is displayed in the Compendium sidebar in-game.",examples:["Pack Title"],title:"Pack Label",type:"string"},module:{description:"The module attribute of each compendium pack designates which content module provided the pack. If coming from a system this field can be excluded or list the system name.",examples:["module-name","system-name"],title:"Pack Module",type:"string",pattern:"^([a-z0-9]+-?)*[a-z0-9]+$",errorMessage:{pattern:"should be a string that is lowercase alpha-numeric with only separating hyphens"}},name:{description:"The compendium pack name - this should be a unique lower-case string with no special characters.",examples:["pack-name"],title:"Pack Name",type:"string",pattern:"^([a-z0-9]+-?)*[a-z0-9]+$",errorMessage:{pattern:"should be a string that is lowercase alpha-numeric with only separating hyphens"}},path:{description:"The path for each compendium pack should designate a database file with the .db extension.",examples:["./packs/pack-name.db"],title:"Pack Path",type:"string",pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$",errorMessage:{pattern:"should be a relative file path from the package root ending in '.db'"}}},description:"An object defining a single compendium pack.",title:"Pack",type:"object"},description:"An array of objects that define all compendium packs.",title:"Packs",type:"array"},U={description:"A publicly accessible URL where issues, suggestions, and bug reports may be filed.",title:"Bugs URL",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",errorMessage:{pattern:"should be an URL string"}},$={description:"A publicly accessible URL where update and release notes about the package may be found.",title:"Changelog URL",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",errorMessage:{pattern:"should be an URL string"}},D={description:"Specify the latest Foundry VTT version with which this system's features are confirmed to function properly.",examples:["0.7.9"],title:"Compatible Core Version",type:"string",pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",errorMessage:{pattern:"should be a string that uses semantic versioning"}},S={description:"Packages can require other modules, systems, or worlds be installed to allow their use. If a package has been installed with dependencies, but its dependencies are missing it cannot be enabled.",items:{properties:{manifest:{description:"The manifest attribute provides an explicit manifest URL to be used for downloading the dependency. If a manifest is not provided, the dependency package must exist in the Foundry VTT website directory.",examples:["https://gitlab.com/riccisi/foundryvtt-dice-so-nice/raw/master/module/module.json"],title:"Manifest URL",type:"string"},name:{description:"Dependency entries require the name attribute. If only a name is provided, additional details about the package will be discovered from the Foundry VTT website listing.",examples:["dice-so-nice"],title:"Package Name",type:"string"},type:{description:"The type attribute instructs Foundry VTT that the dependency may be on a different type of package. By default dependencies are assumed to be module, so if you want to depend on a system or world you should be explicit.",enum:["module","system","world"],examples:["module","system","world"],title:"Package Type"}},required:["name"],title:"Dependency Entry",type:"object"},title:"Dependencies",type:"array"},x={description:"A public URL that provides a zip archive of the package for the manifest version which points to it. The archive at this URL is retrieved during the installation or update process.",title:"Download URL",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(.+).zip$",errorMessage:{pattern:"should be an URL string ending in '.zip'"}},q={description:"In addition to including traditional JavaScript script files, you may also include JS files which use the newer ES module specification. These files are identified separately in the manifest so they may be correctly loaded as an ES module rather than a script.",items:{description:"An ES module file path relative to the root directory of the manifest.",examples:["index.js"],title:"ES Module File",type:"string",pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$",errorMessage:{pattern:"should be a relative file path from the package root ending in '.js'"}},title:"ES Modules",type:"array"},O={description:"The package may designate an array of languages specifications that it supports by default. Each element in the languages array is an object which defines the language tag, label, and path to its localization file.",items:{properties:{lang:{description:"A language code in lower-case letters, for example 'en' for English. See: https://en.wikipedia.org/wiki/List_of_ISO_639-2_codes",examples:["en"],title:"Language Code",type:"string"},name:{description:"The formal and readable name for the language.",examples:["English"],title:"Language Name",type:"string"},path:{description:"A file path relative to the root directory of the manifest where localization strings are provided in JSON format.",examples:["lang/en.json"],title:"Language Path",type:"string",pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.json$",errorMessage:{pattern:"should be a relative file path from the package root ending in '.json'"}}},required:["lang","name","path"],title:"Language Entry",type:"object"},title:"Languages",type:"array"},Z={description:"Specify the latest Foundry VTT version which this package features are confirmed to function properly.",examples:["0.7.9"],title:"Minimum Core Version",type:"string",pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",errorMessage:{pattern:"should be a string that uses semantic versioning"}},T={description:"Choose a unique package identifier. This should be an all lower-case string with no special characters. This name must align with the name of the parent directory within which you create the package.",examples:["my-package-name"],title:"Package Name",type:"string",pattern:"^([a-z0-9]+-?)*[a-z0-9]+$",errorMessage:{pattern:"should be a string that is lowercase alpha-numeric with only separating hyphens"}},V={description:"An array of JavaScript file paths included whenever this package is enabled. Each listed script path should be relative to the package root directory. All scripts which exist will be automatically included in the game session and loaded in their listed order.",items:{description:"JavaScript file path; should be relative to the package root directory.",examples:["ascript.js"],title:"Script Entry",type:"string",pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$",errorMessage:{pattern:"should be a relative file path from the package root ending in '.js'"}},title:"Scripts",type:"array"},_={description:"You can designate CSS files which are included in the game session whenever this package is enabled. Each listed stylesheet file path should be relative to the system root directory. All stylesheets which exist will be automatically included in the game session and loaded in their listed order.",items:{description:"CSS file path; should be relative to the system root directory.",examples:["styles.css"],title:"Style Entry",type:"string",pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.css$",errorMessage:{pattern:"should be a relative file path from the package root ending in '.css'"}},title:"Styles",type:"array"},R={description:"A public URL that links to the repository or documentation pages for the package. This link is displayed to users allowing them to find more information about your package. If your package is hosted in version control like GitHub or GitLab, linking to the repository in this field is a good choice.",examples:["https://github.com/my-user-or-org/my-package"],title:"URL",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",errorMessage:{pattern:"should be an URL string"}},C=new RegExp("^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","u"),E=new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$","u"),L=new RegExp("^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(.+).zip$","u"),F=new RegExp("^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$","u"),I=new RegExp("^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.json$","u"),N=new RegExp("^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+(\\.[^\\/\\\\]+)?$","u"),J=new RegExp("^([a-z0-9]+-?)*[a-z0-9]+$","u"),K=new RegExp("^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.css$","u");function G(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.title){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"title"},message:"must have required property 'title'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.description){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"description"},message:"must have required property 'description'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.author){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"author"},message:"must have required property 'author'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.version){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"version"},message:"must have required property 'version'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.minimumCoreVersion){const e={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"minimumCoreVersion"},message:"must have required property 'minimumCoreVersion'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.author&&"string"!=typeof e.author){const e={instancePath:t+"/author",schemaPath:"../../definitions/strict/base.json#/definitions/author/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.bugs){let s=e.bugs;if("string"==typeof s){if(!C.test(s)){const e={instancePath:t+"/bugs",schemaPath:"../../definitions/strict/base.json#/definitions/bugs/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/bugs",schemaPath:"../../definitions/strict/base.json#/definitions/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/bugs"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/bugs")&&/^\/[^\/]*$/.test(s.schemaPath.slice(52))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/bugs",schemaPath:"../../definitions/strict/base.json#/definitions/bugs/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():U.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.changelog){let s=e.changelog;if("string"==typeof s){if(!C.test(s)){const e={instancePath:t+"/changelog",schemaPath:"../../definitions/strict/base.json#/definitions/changelog/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/changelog",schemaPath:"../../definitions/strict/base.json#/definitions/changelog/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/changelog"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/changelog")&&/^\/[^\/]*$/.test(s.schemaPath.slice(57))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/changelog",schemaPath:"../../definitions/strict/base.json#/definitions/changelog/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():$.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.compatibleCoreVersion){let s=e.compatibleCoreVersion;if("string"==typeof s){if(!E.test(s)){const e={instancePath:t+"/compatibleCoreVersion",schemaPath:"../../definitions/strict/base.json#/definitions/compatibleCoreVersion/pattern",keyword:"pattern",params:{pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},message:'must match pattern "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/compatibleCoreVersion",schemaPath:"../../definitions/strict/base.json#/definitions/compatibleCoreVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/compatibleCoreVersion"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/compatibleCoreVersion")&&/^\/[^\/]*$/.test(s.schemaPath.slice(69))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/compatibleCoreVersion",schemaPath:"../../definitions/strict/base.json#/definitions/compatibleCoreVersion/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():D.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.dependencies){let s=e.dependencies;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){const e={instancePath:t+"/dependencies/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/dependencies/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.manifest&&"string"!=typeof e.manifest){const e={instancePath:t+"/dependencies/"+a+"/manifest",schemaPath:"../../definitions/strict/base.json#/definitions/dependencies/items/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/dependencies/"+a+"/name",schemaPath:"../../definitions/strict/base.json#/definitions/dependencies/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.type){let s=e.type;if("module"!==s&&"system"!==s&&"world"!==s){const e={instancePath:t+"/dependencies/"+a+"/type",schemaPath:"../../definitions/strict/base.json#/definitions/dependencies/items/properties/type/enum",keyword:"enum",params:{allowedValues:S.items.properties.type.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/dependencies/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/dependencies/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/dependencies",schemaPath:"../../definitions/strict/base.json#/definitions/dependencies/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.description&&"string"!=typeof e.description){const e={instancePath:t+"/description",schemaPath:"../../definitions/strict/base.json#/definitions/description/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.download){let s=e.download;if("string"==typeof s){if(!L.test(s)){const e={instancePath:t+"/download",schemaPath:"../../definitions/strict/base.json#/definitions/download/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(.+).zip$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(.+).zip$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/download",schemaPath:"../../definitions/strict/base.json#/definitions/download/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/download"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/download")&&/^\/[^\/]*$/.test(s.schemaPath.slice(56))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/download",schemaPath:"../../definitions/strict/base.json#/definitions/download/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():x.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.esmodules){let s=e.esmodules;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if("string"==typeof e){if(!F.test(e)){const e={instancePath:t+"/esmodules/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/esmodules/items/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/esmodules/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/esmodules/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/esmodules/"+a&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/esmodules/items")&&/^\/[^\/]*$/.test(s.schemaPath.slice(63))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/esmodules/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/esmodules/items/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():q.items.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/esmodules",schemaPath:"../../definitions/strict/base.json#/definitions/esmodules/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.languages){let s=e.languages;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.lang){const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/required",keyword:"required",params:{missingProperty:"lang"},message:"must have required property 'lang'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.name){const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.path){const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.lang&&"string"!=typeof e.lang){const e={instancePath:t+"/languages/"+a+"/lang",schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/properties/lang/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.name&&"string"!=typeof e.name){const e={instancePath:t+"/languages/"+a+"/name",schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.path){let s=e.path;if("string"==typeof s){if(!I.test(s)){const e={instancePath:t+"/languages/"+a+"/path",schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/properties/path/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.json$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.json$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/languages/"+a+"/path",schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/languages/"+a+"/path"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/languages/items/properties/path")&&/^\/[^\/]*$/.test(s.schemaPath.slice(79))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/languages/"+a+"/path",schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/properties/path/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():O.items.properties.path.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/languages/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/languages/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/languages",schemaPath:"../../definitions/strict/base.json#/definitions/languages/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.license){let s=e.license;if("string"!=typeof s){const e={instancePath:t+"/license",schemaPath:"../../definitions/strict/base.json#/definitions/license/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}const a=r;let n=!1,p=null;const d=r;if("string"==typeof s&&!N.test(s)){const e={instancePath:t+"/license",schemaPath:"../../definitions/strict/base.json#/definitions/license/oneOf/0/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+(\\.[^\\/\\\\]+)?$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+(\\.[^\\/\\\\]+)?$"'};null===i?i=[e]:i.push(e),r++}(o=d===r)&&(n=!0,p=0);const c=r;if("string"==typeof s&&!C.test(s)){const e={instancePath:t+"/license",schemaPath:"../../definitions/strict/base.json#/definitions/license/oneOf/1/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}var o;if((o=c===r)&&n?(n=!1,p=[p,1]):o&&(n=!0,p=1),n)r=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t+"/license",schemaPath:"../../definitions/strict/base.json#/definitions/license/oneOf",keyword:"oneOf",params:{passingSchemas:p},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/license"&&(0!==s.instancePath.indexOf(t+"/license")||"/"!==s.instancePath[t+"/license".length])||0!==s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/license")||"/"!==s.schemaPath["../../definitions/strict/base.json#/definitions/license".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/license",schemaPath:"../../definitions/strict/base.json#/definitions/license/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a relative file path from the package root or a public URL"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}if(void 0!==e.minimumCoreVersion){let s=e.minimumCoreVersion;if("string"==typeof s){if(!E.test(s)){const e={instancePath:t+"/minimumCoreVersion",schemaPath:"../../definitions/strict/base.json#/definitions/minimumCoreVersion/pattern",keyword:"pattern",params:{pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},message:'must match pattern "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/minimumCoreVersion",schemaPath:"../../definitions/strict/base.json#/definitions/minimumCoreVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/minimumCoreVersion"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/minimumCoreVersion")&&/^\/[^\/]*$/.test(s.schemaPath.slice(66))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/minimumCoreVersion",schemaPath:"../../definitions/strict/base.json#/definitions/minimumCoreVersion/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():Z.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.name){let s=e.name;if("string"==typeof s){if(!J.test(s)){const e={instancePath:t+"/name",schemaPath:"../../definitions/strict/base.json#/definitions/name/pattern",keyword:"pattern",params:{pattern:"^([a-z0-9]+-?)*[a-z0-9]+$"},message:'must match pattern "^([a-z0-9]+-?)*[a-z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/name",schemaPath:"../../definitions/strict/base.json#/definitions/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/name"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/name")&&/^\/[^\/]*$/.test(s.schemaPath.slice(52))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/name",schemaPath:"../../definitions/strict/base.json#/definitions/name/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():T.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.readme){let s=e.readme;if("string"!=typeof s){const e={instancePath:t+"/readme",schemaPath:"../../definitions/strict/base.json#/definitions/readme/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}const a=r;let n=!1,o=null;const d=r;if("string"==typeof s&&!N.test(s)){const e={instancePath:t+"/readme",schemaPath:"../../definitions/strict/base.json#/definitions/readme/oneOf/0/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+(\\.[^\\/\\\\]+)?$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+(\\.[^\\/\\\\]+)?$"'};null===i?i=[e]:i.push(e),r++}(p=d===r)&&(n=!0,o=0);const c=r;if("string"==typeof s&&!C.test(s)){const e={instancePath:t+"/readme",schemaPath:"../../definitions/strict/base.json#/definitions/readme/oneOf/1/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}var p;if((p=c===r)&&n?(n=!1,o=[o,1]):p&&(n=!0,o=1),n)r=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t+"/readme",schemaPath:"../../definitions/strict/base.json#/definitions/readme/oneOf",keyword:"oneOf",params:{passingSchemas:o},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/readme"&&(0!==s.instancePath.indexOf(t+"/readme")||"/"!==s.instancePath[t+"/readme".length])||0!==s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/readme")||"/"!==s.schemaPath["../../definitions/strict/base.json#/definitions/readme".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/readme",schemaPath:"../../definitions/strict/base.json#/definitions/readme/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a relative file path from the package root or a public URL"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}if(void 0!==e.scripts){let s=e.scripts;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if("string"==typeof e){if(!F.test(e)){const e={instancePath:t+"/scripts/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/scripts/items/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.js$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/scripts/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/scripts/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/scripts/"+a&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/scripts/items")&&/^\/[^\/]*$/.test(s.schemaPath.slice(61))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/scripts/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/scripts/items/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():V.items.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/scripts",schemaPath:"../../definitions/strict/base.json#/definitions/scripts/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.socket&&"boolean"!=typeof e.socket){const e={instancePath:t+"/socket",schemaPath:"../../definitions/strict/base.json#/definitions/socket/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.styles){let s=e.styles;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if("string"==typeof e){if(!K.test(e)){const e={instancePath:t+"/styles/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/styles/items/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.css$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.css$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/styles/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/styles/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/styles/"+a&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/styles/items")&&/^\/[^\/]*$/.test(s.schemaPath.slice(60))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/styles/"+a,schemaPath:"../../definitions/strict/base.json#/definitions/styles/items/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():_.items.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/styles",schemaPath:"../../definitions/strict/base.json#/definitions/styles/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.title&&"string"!=typeof e.title){const e={instancePath:t+"/title",schemaPath:"../../definitions/strict/base.json#/definitions/title/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.url){let s=e.url;if("string"==typeof s){if(!C.test(s)){const e={instancePath:t+"/url",schemaPath:"../../definitions/strict/base.json#/definitions/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/url",schemaPath:"../../definitions/strict/base.json#/definitions/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(51))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/url",schemaPath:"../../definitions/strict/base.json#/definitions/url/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():R.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.version){let s=e.version;const a=r;let n=!1,o=null;const p=r;if("string"!=typeof s){const e={instancePath:t+"/version",schemaPath:"../../definitions/strict/base.json#/definitions/version/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(d=p===r)&&(n=!0,o=0);const c=r;if("number"!=typeof s||!isFinite(s)){const e={instancePath:t+"/version",schemaPath:"../../definitions/strict/base.json#/definitions/version/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),r++}var d;if((d=c===r)&&n?(n=!1,o=[o,1]):d&&(n=!0,o=1),n)r=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t+"/version",schemaPath:"../../definitions/strict/base.json#/definitions/version/oneOf",keyword:"oneOf",params:{passingSchemas:o},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/version"&&(0!==s.instancePath.indexOf(t+"/version")||"/"!==s.instancePath[t+"/version".length])||0!==s.schemaPath.indexOf("../../definitions/strict/base.json#/definitions/version")||"/"!==s.schemaPath["../../definitions/strict/base.json#/definitions/version".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/version",schemaPath:"../../definitions/strict/base.json#/definitions/version/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or number"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return G.errors=i,0===r}const B=new RegExp("^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/module.json$","u"),H=new RegExp("^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$","u"),W=new RegExp("^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$","u");function Y(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(G(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?G.errors:i.concat(G.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.manifest){let s=e.manifest;if("string"==typeof s){if(!B.test(s)){const e={instancePath:t+"/manifest",schemaPath:"../../definitions/strict/module.json#/definitions/manifest/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/module.json$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/module.json$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/manifest",schemaPath:"../../definitions/strict/module.json#/definitions/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/manifest"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/module.json#/definitions/manifest")&&/^\/[^\/]*$/.test(s.schemaPath.slice(58))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/manifest",schemaPath:"../../definitions/strict/module.json#/definitions/manifest/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():M.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.packs){let s=e.packs;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.module){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"module"},message:"must have required property 'module'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.name){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.label){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.path){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.entity){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"entity"},message:"must have required property 'entity'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.system){let s=e.system;const n=r;let p=!1,d=null;const c=r;if("string"==typeof s){if(!H.test(s)){const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/oneOf/0/pattern",keyword:"pattern",params:{pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},message:'must match pattern "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(o=c===r)&&(p=!0,d=0);const m=r;if(Array.isArray(s)){const e=s.length;for(let n=0;n<e;n++){let e=s[n];if("string"==typeof e){if(!H.test(e)){const e={instancePath:t+"/packs/"+a+"/system/"+n,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/oneOf/1/items/pattern",keyword:"pattern",params:{pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},message:'must match pattern "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/system/"+n,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/oneOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}var o;if((o=m===r)&&p?(p=!1,d=[d,1]):o&&(p=!0,d=1),p)r=n,null!==i&&(n?i.length=n:i=null);else{const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/packs/"+a+"/system"&&(0!==s.instancePath.indexOf(t+"/packs/"+a+"/system")||"/"!==s.instancePath[t+"/packs/"+a+"/system".length])||0!==s.schemaPath.indexOf("../../definitions/strict/module.json#/definitions/packs/items/properties/system")||"/"!==s.schemaPath["../../definitions/strict/module.json#/definitions/packs/items/properties/system".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/system/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or array of strings that are alpha-numeric with only underscore and hyphen separators"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}if(void 0!==e.entity){let s=e.entity;if("Actor"!==s&&"Item"!==s&&"Scene"!==s&&"JournalEntry"!==s&&"Macro"!==s&&"RollTable"!==s&&"Playlist"!==s){const e={instancePath:t+"/packs/"+a+"/entity",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/entity/enum",keyword:"enum",params:{allowedValues:z.items.properties.entity.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.label&&"string"!=typeof e.label){const e={instancePath:t+"/packs/"+a+"/label",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.module){let s=e.module;if("string"==typeof s){if(!J.test(s)){const e={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/module/pattern",keyword:"pattern",params:{pattern:"^([a-z0-9]+-?)*[a-z0-9]+$"},message:'must match pattern "^([a-z0-9]+-?)*[a-z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/module/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/module"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/module.json#/definitions/packs/items/properties/module")&&/^\/[^\/]*$/.test(s.schemaPath.slice(79))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/module/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():z.items.properties.module.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==e.name){let s=e.name;if("string"==typeof s){if(!J.test(s)){const e={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/name/pattern",keyword:"pattern",params:{pattern:"^([a-z0-9]+-?)*[a-z0-9]+$"},message:'must match pattern "^([a-z0-9]+-?)*[a-z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/name"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/module.json#/definitions/packs/items/properties/name")&&/^\/[^\/]*$/.test(s.schemaPath.slice(77))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/name/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():z.items.properties.name.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==e.path){let s=e.path;if("string"==typeof s){if(!W.test(s)){const e={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/path/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/path"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/module.json#/definitions/packs/items/properties/path")&&/^\/[^\/]*$/.test(s.schemaPath.slice(77))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/properties/path/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():z.items.properties.path.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/packs/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/packs",schemaPath:"../../definitions/strict/module.json#/definitions/packs/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.system){let s=e.system;const a=r;let n=!1,o=null;const d=r;if("string"==typeof s){if(!H.test(s)){const e={instancePath:t+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/system/oneOf/0/pattern",keyword:"pattern",params:{pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},message:'must match pattern "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/system/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(p=d===r)&&(n=!0,o=0);const c=r;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if("string"==typeof e){if(!H.test(e)){const e={instancePath:t+"/system/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/system/oneOf/1/items/pattern",keyword:"pattern",params:{pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},message:'must match pattern "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/system/"+a,schemaPath:"../../definitions/strict/module.json#/definitions/system/oneOf/1/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/system/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}var p;if((p=c===r)&&n?(n=!1,o=[o,1]):p&&(n=!0,o=1),n)r=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/system/oneOf",keyword:"oneOf",params:{passingSchemas:o},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/system"&&(0!==s.instancePath.indexOf(t+"/system")||"/"!==s.instancePath[t+"/system".length])||0!==s.schemaPath.indexOf("../../definitions/strict/module.json#/definitions/system")||"/"!==s.schemaPath["../../definitions/strict/module.json#/definitions/system".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/system",schemaPath:"../../definitions/strict/module.json#/definitions/system/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or array of strings that are alpha-numeric with only underscore and hyphen separators"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return Y.errors=i,0===r}const Q={properties:{email:{description:"An email address.",examples:["admin@foundryvtt.com"],title:"Author Email",type:"string",pattern:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',errorMessage:{pattern:"should be a string that is a valid email address"}},name:{description:"An author name.",examples:["Atropos"],title:"Author Name",type:"string"},url:{description:"An URL for the author.",examples:["https://foundryvtt.com"],title:"Author URL",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",errorMessage:{pattern:"should be an URL string"}}},required:["name"]},X=new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',"u");function ee(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email){let e=s.email;if("string"==typeof e){if(!X.test(e)){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/pattern",keyword:"pattern",params:{pattern:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'},message:'must match pattern "^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/email"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/email")&&/^\/[^\/]*$/.test(s.schemaPath.slice(48))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.email.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url){let e=s.url;if("string"==typeof e){if(!C.test(e)){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(46))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.url.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return ee.errors=i,0===r}function te(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Y(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?Y.errors:i.concat(Y.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(ee(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(i=null===i?ee.errors:i.concat(ee.errors),r=i.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return te.errors=i,0===r}t.validateModulePlusStrict=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}ge(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?ge.errors:r.concat(ge.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():se.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const se={$id:"validateModulePlusStrict",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT module.json w/ manifest+ and strict requirements",type:"object",allOf:[{$ref:"../../shared/properties/strict/module+.json"}],errorMessage:{type:"package manifest should be an object"}},ae={description:"The `conflicts` field is similar to the `dependencies` field in the core Foundry VTT manifest specification, but provides a mapping of packages which can not interoperate with the given package.",items:{properties:{name:{description:"The name of the conflict package.",examples:["dice-so-nice"],title:"Conflict Package Name",type:"string",pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$",errorMessage:{pattern:"should be a string that is alpha-numeric with only underscore and hyphen separators"}},type:{description:"The type of the conflict package",enum:["module","system","world"],examples:["module","system","world"],title:"Conflict Package Type"},versionMax:{description:"Defines a maximum version number for the package within which the conflict occurs.",errorMessage:"should be a string or number",examples:["1.0.0"],oneOf:[{type:"string"},{type:"number"}],title:"Conflict Maximum Version"},versionMin:{description:"Defines a minimum version number for the package within which the conflict occurs.",errorMessage:"should be a string or number",examples:["1.0.0"],oneOf:[{type:"string"},{type:"number"}],title:"Conflict Minimum Version"}},required:["name","type"],title:"Conflict Entry",type:"object"},title:"Conflicts",type:"array"},ne={description:"This field is intended to be added to the manifest of a package that is no longer being maintained and / or is no longer functional / useful.",properties:{alternatives:{description:"An array of objects each providing data about another package which could act as a replacement for the deprecated package.",items:{properties:{name:{description:"Deprecated package name",examples:["module-name"],title:"Alternate Package Name",type:"string",pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$",errorMessage:{pattern:"should be a string that is alpha-numeric with only underscore and hyphen separators"}},manifest:{description:"The URL of the manifest for the alternative package from which it can be downloaded.",examples:["https://link.com/to/module.json"],title:"Alternate Package Manifest",type:"string",pattern:"^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(module|system).json$",errorMessage:{pattern:"should be an URL string ending in 'module.json' or 'system.json'"}}},required:["name","manifest"],title:"Alternative Entry",type:"object"},title:"Alternatives",type:"array"},coreVersion:{description:"If set the package is assumed to be a module that has been deprecated by a Foundry VTT core update. This field is the core version number as a string.",examples:["0.7.9"],title:"Core Version",type:"string",pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",errorMessage:{pattern:"should be a string that uses semantic versioning"}},reason:{description:"A human-readable string explaining why the package was deprecated.",examples:["This was added to foundry core."],title:"Reason",type:"string"}},title:"Deprecated",type:"object"},ie={description:"Denotes which version of Manifest+ you have implemented.",examples:["1.1.0"],title:"Manifest+ Version",type:"string",pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",errorMessage:{pattern:"should be a string that uses semantic versioning"}},re=new RegExp("^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(module|system).json$","u"),oe={description:"An object that provides data for a single multimedia item.",required:["type","url"],title:"Media Entry",type:"object",if:{properties:{type:{const:"video"}}},then:{properties:{type:{description:"Indicates what kind of media.",const:"video",title:"Media Type"},url:{description:"Public URL of the media resource.",title:"Media URL",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$",errorMessage:{pattern:"should be an URL string"}},loop:{description:"Optional field specific to video media. If loop is set to true, the video is expected to be treated as an animated image, like a GIF (i.e. muted and looped).",title:"Video Loop",type:"boolean"},thumbnail:{description:"Optional URL to provide a video thumbnail.",title:"Video Thumbnail",type:"string",pattern:"^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$",errorMessage:{pattern:"should be a valid image URL string for <img> tags"}}},additionalProperties:!1},else:{if:{properties:{type:{enum:["cover","icon","screenshot"]}}},then:{properties:{type:{description:"Indicates what kind of media.",enum:["cover","icon","screenshot"],title:"Media Type"},url:{description:"Public URL of the media resource.",title:"Media URL",type:"string",pattern:"^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$",errorMessage:{pattern:"should be a valid image URL string for <img> tags"}}},additionalProperties:!1},else:{properties:{type:{description:"Indicates what kind of media.",enum:["cover","icon","screenshot","video"],title:"Media Type"}}}}},pe=new RegExp("^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$","u");function de(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];const n=r;let d=!0;const c=r;if(s&&"object"==typeof s&&!Array.isArray(s)&&void 0!==s.type&&"video"!==s.type){const e={};null===i?i=[e]:i.push(e),r++}var o=c===r;let m;if(r=n,null!==i&&(n?i.length=n:i=null),o){const e=r;if(s&&"object"==typeof s&&!Array.isArray(s)){for(const e in s)if("type"!==e&&"url"!==e&&"loop"!==e&&"thumbnail"!==e){const s={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/then/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===i?i=[s]:i.push(s),r++}if(void 0!==s.type&&"video"!==s.type){const e={instancePath:t+"/"+a+"/type",schemaPath:"#/definitions/media-item-strict/then/properties/type/const",keyword:"const",params:{allowedValue:"video"},message:"must be equal to constant"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url){let e=s.url;if("string"==typeof e){if(!C.test(e)){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-strict/then/properties/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-strict/then/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/media-item-strict/then/properties/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(51))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-strict/then/properties/url/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():oe.then.properties.url.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.loop&&"boolean"!=typeof s.loop){const e={instancePath:t+"/"+a+"/loop",schemaPath:"#/definitions/media-item-strict/then/properties/loop/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.thumbnail){let e=s.thumbnail;if("string"==typeof e){if(!pe.test(e)){const e={instancePath:t+"/"+a+"/thumbnail",schemaPath:"#/definitions/media-item-strict/then/properties/thumbnail/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$"},message:'must match pattern "^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/thumbnail",schemaPath:"#/definitions/media-item-strict/then/properties/thumbnail/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/thumbnail"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/media-item-strict/then/properties/thumbnail")&&/^\/[^\/]*$/.test(s.schemaPath.slice(57))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/thumbnail",schemaPath:"#/definitions/media-item-strict/then/properties/thumbnail/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():oe.then.properties.thumbnail.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}d=o=e===r,m="then"}else{const e=r,n=r;let c=!0;const h=r;if(s&&"object"==typeof s&&!Array.isArray(s)&&void 0!==s.type){let e=s.type;if("cover"!==e&&"icon"!==e&&"screenshot"!==e){const e={};null===i?i=[e]:i.push(e),r++}}var p=h===r;let l;if(r=n,null!==i&&(n?i.length=n:i=null),p){const e=r;if(s&&"object"==typeof s&&!Array.isArray(s)){for(const e in s)if("type"!==e&&"url"!==e){const s={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/else/then/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===i?i=[s]:i.push(s),r++}if(void 0!==s.type){let e=s.type;if("cover"!==e&&"icon"!==e&&"screenshot"!==e){const e={instancePath:t+"/"+a+"/type",schemaPath:"#/definitions/media-item-strict/else/then/properties/type/enum",keyword:"enum",params:{allowedValues:oe.else.then.properties.type.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}if(void 0!==s.url){let e=s.url;if("string"==typeof e){if(!pe.test(e)){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-strict/else/then/properties/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$"},message:'must match pattern "^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/([a-zA-Z0-9%._-])+.(apng|avif|gif|jpg|jpeg|jfif|pjpeg|pjp|png|svg|webp)$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-strict/else/then/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/media-item-strict/else/then/properties/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(56))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/media-item-strict/else/then/properties/url/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():oe.else.then.properties.url.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}c=p=e===r,l="then"}else{const e=r;if(s&&"object"==typeof s&&!Array.isArray(s)&&void 0!==s.type){let e=s.type;if("cover"!==e&&"icon"!==e&&"screenshot"!==e&&"video"!==e){const e={instancePath:t+"/"+a+"/type",schemaPath:"#/definitions/media-item-strict/else/else/properties/type/enum",keyword:"enum",params:{allowedValues:oe.else.else.properties.type.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}c=p=e===r,l="else"}if(!c){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/else/if",keyword:"if",params:{failingKeyword:l},message:'must match "'+l+'" schema'};null===i?i=[e]:i.push(e),r++}d=o=e===r,m="else"}if(!d){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/if",keyword:"if",params:{failingKeyword:m},message:'must match "'+m+'" schema'};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.type){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===i?i=[e]:i.push(e),r++}if(void 0===s.url){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/required",keyword:"required",params:{missingProperty:"url"},message:"must have required property 'url'"};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a,schemaPath:"#/definitions/media-item-strict/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return de.errors=i,0===r}function ce(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.conflicts){let s=e.conflicts;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.name){const e={instancePath:t+"/conflicts/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.type){const e={instancePath:t+"/conflicts/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.name){let s=e.name;if("string"==typeof s){if(!H.test(s)){const e={instancePath:t+"/conflicts/"+a+"/name",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/name/pattern",keyword:"pattern",params:{pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},message:'must match pattern "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/conflicts/"+a+"/name",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/conflicts/"+a+"/name"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/name")&&/^\/[^\/]*$/.test(s.schemaPath.slice(89))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/conflicts/"+a+"/name",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/name/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ae.items.properties.name.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==e.type){let s=e.type;if("module"!==s&&"system"!==s&&"world"!==s){const e={instancePath:t+"/conflicts/"+a+"/type",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/type/enum",keyword:"enum",params:{allowedValues:ae.items.properties.type.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.versionMax){let s=e.versionMax;const n=r;let p=!1,d=null;const c=r;if("string"!=typeof s){const e={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(o=c===r)&&(p=!0,d=0);const m=r;if("number"!=typeof s||!isFinite(s)){const e={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),r++}var o;if((o=m===r)&&p?(p=!1,d=[d,1]):o&&(p=!0,d=1),p)r=n,null!==i&&(n?i.length=n:i=null);else{const e={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/conflicts/"+a+"/versionMax"&&(0!==s.instancePath.indexOf(t+"/conflicts/"+a+"/versionMax")||"/"!==s.instancePath[t+"/conflicts/"+a+"/versionMax".length])||0!==s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMax")||"/"!==s.schemaPath["../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMax".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/conflicts/"+a+"/versionMax",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMax/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or number"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}if(void 0!==e.versionMin){let s=e.versionMin;const n=r;let o=!1,d=null;const c=r;if("string"!=typeof s){const e={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}(p=c===r)&&(o=!0,d=0);const m=r;if("number"!=typeof s||!isFinite(s)){const e={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===i?i=[e]:i.push(e),r++}var p;if((p=m===r)&&o?(o=!1,d=[d,1]):p&&(o=!0,d=1),o)r=n,null!==i&&(n?i.length=n:i=null);else{const e={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),r++}if(r>0){const e=[];for(const s of i)"errorMessage"===s.keyword||s.emUsed||s.instancePath!==t+"/conflicts/"+a+"/versionMin"&&(0!==s.instancePath.indexOf(t+"/conflicts/"+a+"/versionMin")||"/"!==s.instancePath[t+"/conflicts/"+a+"/versionMin".length])||0!==s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMin")||"/"!==s.schemaPath["../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMin".length]||(e.push(s),s.emUsed=!0);if(e.length){const s={instancePath:t+"/conflicts/"+a+"/versionMin",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/properties/versionMin/errorMessage",keyword:"errorMessage",params:{errors:e},message:"should be a string or number"};null===i?i=[s]:i.push(s),r++}const s=[];for(const e of i)e.emUsed||s.push(e);i=s,r=s.length}}}else{const e={instancePath:t+"/conflicts/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/conflicts",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/conflicts/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.deprecated){let s=e.deprecated;if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0!==s.alternatives){let e=s.alternatives;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/deprecated/alternatives/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===s.manifest){const e={instancePath:t+"/deprecated/alternatives/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/required",keyword:"required",params:{missingProperty:"manifest"},message:"must have required property 'manifest'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.name){let e=s.name;if("string"==typeof e){if(!H.test(e)){const e={instancePath:t+"/deprecated/alternatives/"+a+"/name",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/name/pattern",keyword:"pattern",params:{pattern:"^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"},message:'must match pattern "^([a-zA-Z0-9]+[-_]?)*[a-zA-Z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/deprecated/alternatives/"+a+"/name",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/deprecated/alternatives/"+a+"/name"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/name")&&/^\/[^\/]*$/.test(s.schemaPath.slice(114))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/deprecated/alternatives/"+a+"/name",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/name/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ne.properties.alternatives.items.properties.name.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.manifest){let e=s.manifest;if("string"==typeof e){if(!re.test(e)){const e={instancePath:t+"/deprecated/alternatives/"+a+"/manifest",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/manifest/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(module|system).json$"},message:'must match pattern "^(?:(?:(?:https?):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9¡-￿][a-z0-9¡-￿_-]{0,62})?[a-z0-9¡-￿]\\.)+(?:[a-z¡-￿]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/(module|system).json$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/deprecated/alternatives/"+a+"/manifest",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/deprecated/alternatives/"+a+"/manifest"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/manifest")&&/^\/[^\/]*$/.test(s.schemaPath.slice(118))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/deprecated/alternatives/"+a+"/manifest",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/properties/manifest/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ne.properties.alternatives.items.properties.manifest.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/deprecated/alternatives/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/deprecated/alternatives",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/alternatives/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==s.coreVersion){let e=s.coreVersion;if("string"==typeof e){if(!E.test(e)){const e={instancePath:t+"/deprecated/coreVersion",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/coreVersion/pattern",keyword:"pattern",params:{pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},message:'must match pattern "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/deprecated/coreVersion",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/coreVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/deprecated/coreVersion"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/coreVersion")&&/^\/[^\/]*$/.test(s.schemaPath.slice(91))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/deprecated/coreVersion",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/coreVersion/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():ne.properties.coreVersion.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==s.reason&&"string"!=typeof s.reason){const e={instancePath:t+"/deprecated/reason",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/properties/reason/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/deprecated",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/deprecated/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.includes){let s=e.includes;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++)if("string"!=typeof s[a]){const e={instancePath:t+"/includes/"+a,schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/includes/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}let a,n=s.length;if(n>1){const e={};for(;n--;){let o=s[n];if("string"==typeof o){if("number"==typeof e[o]){a=e[o];const s={instancePath:t+"/includes",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/includes/uniqueItems",keyword:"uniqueItems",params:{i:n,j:a},message:"must NOT have duplicate items (items ## "+a+" and "+n+" are identical)"};null===i?i=[s]:i.push(s),r++;break}e[o]=n}}}}else{const e={instancePath:t+"/includes",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/includes/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.library&&"boolean"!=typeof e.library){const e={instancePath:t+"/library",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/library/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.manifestPlusVersion){let s=e.manifestPlusVersion;if("string"==typeof s){if(!E.test(s)){const e={instancePath:t+"/manifestPlusVersion",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/manifestPlusVersion/pattern",keyword:"pattern",params:{pattern:"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"},message:'must match pattern "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/manifestPlusVersion",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/manifestPlusVersion/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/manifestPlusVersion"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/base-manifest+.json#/definitions/manifestPlusVersion")&&/^\/[^\/]*$/.test(s.schemaPath.slice(77))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/manifestPlusVersion",schemaPath:"../../definitions/strict/base-manifest+.json#/definitions/manifestPlusVersion/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():ie.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}void 0!==e.media&&(de(e.media,{instancePath:t+"/media",parentData:e,parentDataProperty:"media",rootData:n})||(i=null===i?de.errors:i.concat(de.errors),r=i.length))}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return ce.errors=i,0===r}const me={properties:{discord:{description:"A Discord user ID.",examples:["discordID#0001"],title:"Author Discord",type:"string",pattern:"^.{3,32}#[0-9]{4}$",errorMessage:{pattern:"should be a string that is a valid Discord user name"}},"ko-fi":{description:"A Ko-fi user name.",examples:["kofiName"],title:"Author Ko-fi",type:"string",pattern:"^[A-Za-z0-9_]{3,30}$",errorMessage:{pattern:"should be a string that is a valid Ko-fi user name"}},patreon:{description:"A Patreon user name.",examples:["patreonName"],title:"Author Patreon",type:"string"},reddit:{description:"A Reddit user name.",examples:["u/RedditUsername"],title:"Author Reddit",type:"string",pattern:"^u/[A-Za-z0-9_-]+$",errorMessage:{pattern:"should be a string that is a valid Reddit user name"}},twitter:{description:"A Twitter user handle.",examples:["@TwitterHandle"],title:"Author Twitter",type:"string",pattern:"^@[A-Za-z0-9_]{1,15}$",errorMessage:{pattern:"should be a string that is a valid twitter user name"}}}},he=new RegExp("^.{3,32}#[0-9]{4}$","u"),le=new RegExp("^[A-Za-z0-9_]{3,30}$","u"),fe=new RegExp("^u/[A-Za-z0-9_-]+$","u"),ue=new RegExp("^@[A-Za-z0-9_]{1,15}$","u");function ye(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email){let e=s.email;if("string"==typeof e){if(!X.test(e)){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/pattern",keyword:"pattern",params:{pattern:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'},message:'must match pattern "^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/email"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/email")&&/^\/[^\/]*$/.test(s.schemaPath.slice(48))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.email.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url){let e=s.url;if("string"==typeof e){if(!C.test(e)){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(46))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.url.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0!==s.discord){let e=s.discord;if("string"==typeof e){if(!he.test(e)){const e={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/pattern",keyword:"pattern",params:{pattern:"^.{3,32}#[0-9]{4}$"},message:'must match pattern "^.{3,32}#[0-9]{4}$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/discord"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/discord")&&/^\/[^\/]*$/.test(s.schemaPath.slice(51))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties.discord.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s["ko-fi"]){let e=s["ko-fi"];if("string"==typeof e){if(!le.test(e)){const e={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_]{3,30}$"},message:'must match pattern "^[A-Za-z0-9_]{3,30}$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/ko-fi"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/ko-fi")&&/^\/[^\/]*$/.test(s.schemaPath.slice(49))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties["ko-fi"].errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.patreon&&"string"!=typeof s.patreon){const e={instancePath:t+"/"+a+"/patreon",schemaPath:"#/definitions/properties-author+/properties/patreon/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.reddit){let e=s.reddit;if("string"==typeof e){if(!fe.test(e)){const e={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/pattern",keyword:"pattern",params:{pattern:"^u/[A-Za-z0-9_-]+$"},message:'must match pattern "^u/[A-Za-z0-9_-]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/reddit"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/reddit")&&/^\/[^\/]*$/.test(s.schemaPath.slice(50))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties.reddit.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.twitter){let e=s.twitter;if("string"==typeof e){if(!ue.test(e)){const e={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/pattern",keyword:"pattern",params:{pattern:"^@[A-Za-z0-9_]{1,15}$"},message:'must match pattern "^@[A-Za-z0-9_]{1,15}$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/twitter"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/twitter")&&/^\/[^\/]*$/.test(s.schemaPath.slice(51))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties.twitter.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return ye.errors=i,0===r}function ge(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(ce(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?ce.errors:i.concat(ce.errors),r=i.length),Y(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?Y.errors:i.concat(Y.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(ye(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(i=null===i?ye.errors:i.concat(ye.errors),r=i.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return ge.errors=i,0===r}t.validateSystemStrict=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}ze(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?ze.errors:r.concat(ze.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():Pe.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const Pe={$id:"validateSystemStrict",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT system.json w/ strict requirements",type:"object",allOf:[{$ref:"../../shared/properties/strict/system.json"}],errorMessage:{type:"package manifest should be an object"}},be={description:"A stable URL that describes the latest release version of your manifest file.",examples:["https://someaddress.com/system.json"],title:"Manifest",type:"string",pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/system.json$",errorMessage:{pattern:"should be an URL string ending in 'system.json'"}},ke={items:{required:["system","name","label","path","entity"],properties:{system:{description:"Since you are creating compendium content specifically for your system, be sure to reference that the content inside each compendium pack requires the system by providing the system name that you chose.",examples:["system-name"],title:"Pack System",type:"string",pattern:"^([a-z0-9]+-?)*[a-z0-9]+$",errorMessage:{pattern:"should be a string that is lowercase alpha-numeric with only separating hyphens"}},entity:{description:"Each compendium pack must designate a specific Entity type that it contains.",examples:["Actor","Item","Scene","JournalEntry","Macro","RollTable","Playlist"],title:"Pack Entity",enum:["Actor","Item","Scene","JournalEntry","Macro","RollTable","Playlist"]},label:{description:"The compendium pack label - this should be a human readable string label which is displayed in the Compendium sidebar in-game.",examples:["Pack Title"],title:"Pack Label",type:"string"},module:{description:"The module attribute of each compendium pack designates which content module provided the pack. If coming from a system this field can be excluded or list the system name.",examples:["module-name","system-name"],title:"Pack Module",type:"string",pattern:"^([a-z0-9]+-?)*[a-z0-9]+$",errorMessage:{pattern:"should be a string that is lowercase alpha-numeric with only separating hyphens"}},name:{description:"The compendium pack name - this should be a unique lower-case string with no special characters.",examples:["pack-name"],title:"Pack Name",type:"string",pattern:"^([a-z0-9]+-?)*[a-z0-9]+$",errorMessage:{pattern:"should be a string that is lowercase alpha-numeric with only separating hyphens"}},path:{description:"The path for each compendium pack should designate a database file with the .db extension.",examples:["./packs/pack-name.db"],title:"Pack Path",type:"string",pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$",errorMessage:{pattern:"should be a relative file path from the package root ending in '.db'"}}},description:"An object defining a single compendium pack.",title:"Pack",type:"object"},description:"An array of objects that define all compendium packs.",title:"Packs",type:"array"},we={description:"An attribute path within the system data model that points to an object that contains both a value and max key. The prototype Token for each Actor created in this system will automatically have this resource assigned as it's primary bar. Omit this key or set it to null for no default attribute.",examples:["resources.health"],title:"Primary Token Attribute",type:["null","string"]},ve={description:"An attribute path within the system data model that points to an object that contains both a value and max key. The prototype Token for each Actor created in this system will automatically have this resource assigned as it's secondary bar. Omit this key or set it to null for no default attribute.",examples:["resources.power"],title:"Secondary Token Attribute",type:["null","string"]},je=new RegExp("^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/system.json$","u");function Ae(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(G(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?G.errors:i.concat(G.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.gridDistance){let s=e.gridDistance;if("number"!=typeof s||s%1||isNaN(s)||!isFinite(s)){const e={instancePath:t+"/gridDistance",schemaPath:"../../definitions/strict/system.json#/definitions/gridDistance/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.gridUnits&&"string"!=typeof e.gridUnits){const e={instancePath:t+"/gridUnits",schemaPath:"../../definitions/strict/system.json#/definitions/gridUnits/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.initiative&&"string"!=typeof e.initiative){const e={instancePath:t+"/initiative",schemaPath:"../../definitions/strict/system.json#/definitions/initiative/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.manifest){let s=e.manifest;if("string"==typeof s){if(!je.test(s)){const e={instancePath:t+"/manifest",schemaPath:"../../definitions/strict/system.json#/definitions/manifest/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/system.json$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?\\/system.json$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/manifest",schemaPath:"../../definitions/strict/system.json#/definitions/manifest/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/manifest"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/system.json#/definitions/manifest")&&/^\/[^\/]*$/.test(s.schemaPath.slice(58))&&(e[s.keyword].push(s),s.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:t+"/manifest",schemaPath:"../../definitions/strict/system.json#/definitions/manifest/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in s?s[a]():be.errorMessage[a]};null===i?i=[n]:i.push(n),r++}const a=[];for(const e of i)e.emUsed||a.push(e);i=a,r=a.length}}if(void 0!==e.packs){let s=e.packs;if(Array.isArray(s)){const e=s.length;for(let a=0;a<e;a++){let e=s[a];if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.system){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"system"},message:"must have required property 'system'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.name){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.label){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"label"},message:"must have required property 'label'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.path){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'"};null===i?i=[e]:i.push(e),r++}if(void 0===e.entity){const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/required",keyword:"required",params:{missingProperty:"entity"},message:"must have required property 'entity'"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.system){let s=e.system;if("string"==typeof s){if(!J.test(s)){const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/system/pattern",keyword:"pattern",params:{pattern:"^([a-z0-9]+-?)*[a-z0-9]+$"},message:'must match pattern "^([a-z0-9]+-?)*[a-z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/system/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/system"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/system.json#/definitions/packs/items/properties/system")&&/^\/[^\/]*$/.test(s.schemaPath.slice(79))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/system",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/system/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ke.items.properties.system.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==e.entity){let s=e.entity;if("Actor"!==s&&"Item"!==s&&"Scene"!==s&&"JournalEntry"!==s&&"Macro"!==s&&"RollTable"!==s&&"Playlist"!==s){const e={instancePath:t+"/packs/"+a+"/entity",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/entity/enum",keyword:"enum",params:{allowedValues:ke.items.properties.entity.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.label&&"string"!=typeof e.label){const e={instancePath:t+"/packs/"+a+"/label",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/label/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==e.module){let s=e.module;if("string"==typeof s){if(!J.test(s)){const e={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/module/pattern",keyword:"pattern",params:{pattern:"^([a-z0-9]+-?)*[a-z0-9]+$"},message:'must match pattern "^([a-z0-9]+-?)*[a-z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/module/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/module"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/system.json#/definitions/packs/items/properties/module")&&/^\/[^\/]*$/.test(s.schemaPath.slice(79))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/module",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/module/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ke.items.properties.module.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==e.name){let s=e.name;if("string"==typeof s){if(!J.test(s)){const e={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/name/pattern",keyword:"pattern",params:{pattern:"^([a-z0-9]+-?)*[a-z0-9]+$"},message:'must match pattern "^([a-z0-9]+-?)*[a-z0-9]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/name"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/system.json#/definitions/packs/items/properties/name")&&/^\/[^\/]*$/.test(s.schemaPath.slice(77))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/name",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/name/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ke.items.properties.name.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==e.path){let s=e.path;if("string"==typeof s){if(!W.test(s)){const e={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/path/pattern",keyword:"pattern",params:{pattern:"^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$"},message:'must match pattern "^(?!\\.\\.|\\/)([^\\/\\\\]+\\/)*[^\\/\\\\]+\\.db$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/path/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/packs/"+a+"/path"&&s.keyword in e&&0===s.schemaPath.indexOf("../../definitions/strict/system.json#/definitions/packs/items/properties/path")&&/^\/[^\/]*$/.test(s.schemaPath.slice(77))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/packs/"+a+"/path",schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/properties/path/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():ke.items.properties.path.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}else{const e={instancePath:t+"/packs/"+a,schemaPath:"../../definitions/strict/system.json#/definitions/packs/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t+"/packs",schemaPath:"../../definitions/strict/system.json#/definitions/packs/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.primaryTokenAttribute){let s=e.primaryTokenAttribute;if(null!==s&&"string"!=typeof s){const e={instancePath:t+"/primaryTokenAttribute",schemaPath:"../../definitions/strict/system.json#/definitions/primaryTokenAttribute/type",keyword:"type",params:{type:we.type},message:"must be null,string"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.secondaryTokenAttribute){let s=e.secondaryTokenAttribute;if(null!==s&&"string"!=typeof s){const e={instancePath:t+"/secondaryTokenAttribute",schemaPath:"../../definitions/strict/system.json#/definitions/secondaryTokenAttribute/type",keyword:"type",params:{type:ve.type},message:"must be null,string"};null===i?i=[e]:i.push(e),r++}}if(void 0!==e.templateVersion){let s=e.templateVersion;if("number"!=typeof s||s%1||isNaN(s)||!isFinite(s)){const e={instancePath:t+"/templateVersion",schemaPath:"../../definitions/strict/system.json#/definitions/templateVersion/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),r++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return Ae.errors=i,0===r}function Me(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email){let e=s.email;if("string"==typeof e){if(!X.test(e)){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/pattern",keyword:"pattern",params:{pattern:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'},message:'must match pattern "^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/email"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/email")&&/^\/[^\/]*$/.test(s.schemaPath.slice(48))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.email.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url){let e=s.url;if("string"==typeof e){if(!C.test(e)){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(46))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.url.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return Me.errors=i,0===r}function ze(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Ae(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?Ae.errors:i.concat(Ae.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&(Me(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(i=null===i?Me.errors:i.concat(Me.errors),r=i.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return ze.errors=i,0===r}t.validateSystemPlusStrict=function e(t,{instancePath:s="",parentData:a,parentDataProperty:n,rootData:i=t}={}){let r=null,o=0;if(!t||"object"!=typeof t||Array.isArray(t)){const e={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===r?r=[e]:r.push(e),o++}De(t,{instancePath:s,parentData:a,parentDataProperty:n,rootData:i})||(r=null===r?De.errors:r.concat(De.errors),o=r.length);if(o>0){const e={type:[]},t={};for(const t of r)"errorMessage"!==t.keyword&&!t.emUsed&&t.instancePath===s&&t.keyword in e&&0===t.schemaPath.indexOf("#")&&/^\/[^\/]*$/.test(t.schemaPath.slice(1))&&(e[t.keyword].push(t),t.emUsed=!0);for(const a in e)if(e[a].length){const n={instancePath:s,schemaPath:"#/errorMessage",keyword:"errorMessage",params:{errors:e[a]},message:a in t?t[a]():Ue.errorMessage[a]};null===r?r=[n]:r.push(n),o++}const a=[];for(const e of r)e.emUsed||a.push(e);r=a,o=a.length}return e.errors=r,0===o};const Ue={$id:"validateSystemPlusStrict",$schema:"http://json-schema.org/draft-07/schema#",title:"FoundryVTT system.json w/ manifest+ and strict requirements",type:"object",allOf:[{$ref:"../../shared/properties/strict/system+.json"}],errorMessage:{type:"package manifest should be an object"}};function $e(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(Array.isArray(e)){const s=e.length;for(let a=0;a<s;a++){let s=e[a];if(!s||"object"!=typeof s||Array.isArray(s)){const e={instancePath:t+"/"+a,schemaPath:"#/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0===s.name){const e={instancePath:t+"/"+a,schemaPath:"#/definitions/properties-author/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.email){let e=s.email;if("string"==typeof e){if(!X.test(e)){const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/pattern",keyword:"pattern",params:{pattern:'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'},message:'must match pattern "^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/email"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/email")&&/^\/[^\/]*$/.test(s.schemaPath.slice(48))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/email",schemaPath:"#/definitions/properties-author/properties/email/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.email.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.name&&"string"!=typeof s.name){const e={instancePath:t+"/"+a+"/name",schemaPath:"#/definitions/properties-author/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.url){let e=s.url;if("string"==typeof e){if(!C.test(e)){const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/pattern",keyword:"pattern",params:{pattern:"^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"},message:'must match pattern "^(?:(?:(?:https?):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/url"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author/properties/url")&&/^\/[^\/]*$/.test(s.schemaPath.slice(46))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/url",schemaPath:"#/definitions/properties-author/properties/url/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():Q.properties.url.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}if(s&&"object"==typeof s&&!Array.isArray(s)){if(void 0!==s.discord){let e=s.discord;if("string"==typeof e){if(!he.test(e)){const e={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/pattern",keyword:"pattern",params:{pattern:"^.{3,32}#[0-9]{4}$"},message:'must match pattern "^.{3,32}#[0-9]{4}$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/discord"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/discord")&&/^\/[^\/]*$/.test(s.schemaPath.slice(51))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/discord",schemaPath:"#/definitions/properties-author+/properties/discord/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties.discord.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s["ko-fi"]){let e=s["ko-fi"];if("string"==typeof e){if(!le.test(e)){const e={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_]{3,30}$"},message:'must match pattern "^[A-Za-z0-9_]{3,30}$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/ko-fi"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/ko-fi")&&/^\/[^\/]*$/.test(s.schemaPath.slice(49))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/ko-fi",schemaPath:"#/definitions/properties-author+/properties/ko-fi/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties["ko-fi"].errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.patreon&&"string"!=typeof s.patreon){const e={instancePath:t+"/"+a+"/patreon",schemaPath:"#/definitions/properties-author+/properties/patreon/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(void 0!==s.reddit){let e=s.reddit;if("string"==typeof e){if(!fe.test(e)){const e={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/pattern",keyword:"pattern",params:{pattern:"^u/[A-Za-z0-9_-]+$"},message:'must match pattern "^u/[A-Za-z0-9_-]+$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/reddit"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/reddit")&&/^\/[^\/]*$/.test(s.schemaPath.slice(50))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/reddit",schemaPath:"#/definitions/properties-author+/properties/reddit/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties.reddit.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}if(void 0!==s.twitter){let e=s.twitter;if("string"==typeof e){if(!ue.test(e)){const e={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/pattern",keyword:"pattern",params:{pattern:"^@[A-Za-z0-9_]{1,15}$"},message:'must match pattern "^@[A-Za-z0-9_]{1,15}$"'};null===i?i=[e]:i.push(e),r++}}else{const e={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),r++}if(r>0){const e={pattern:[]},s={};for(const s of i)"errorMessage"!==s.keyword&&!s.emUsed&&s.instancePath===t+"/"+a+"/twitter"&&s.keyword in e&&0===s.schemaPath.indexOf("#/definitions/properties-author+/properties/twitter")&&/^\/[^\/]*$/.test(s.schemaPath.slice(51))&&(e[s.keyword].push(s),s.emUsed=!0);for(const n in e)if(e[n].length){const o={instancePath:t+"/"+a+"/twitter",schemaPath:"#/definitions/properties-author+/properties/twitter/errorMessage",keyword:"errorMessage",params:{errors:e[n]},message:n in s?s[n]():me.properties.twitter.errorMessage[n]};null===i?i=[o]:i.push(o),r++}const n=[];for(const e of i)e.emUsed||n.push(e);i=n,r=n.length}}}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),r++}return $e.errors=i,0===r}function De(e,{instancePath:t="",parentData:s,parentDataProperty:a,rootData:n=e}={}){let i=null,r=0;if(ce(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?ce.errors:i.concat(ce.errors),r=i.length),Ae(e,{instancePath:t,parentData:s,parentDataProperty:a,rootData:n})||(i=null===i?Ae.errors:i.concat(Ae.errors),r=i.length),e&&"object"==typeof e&&!Array.isArray(e))void 0!==e.authors&&($e(e.authors,{instancePath:t+"/authors",parentData:e,parentDataProperty:"authors",rootData:n})||(i=null===i?$e.errors:i.concat($e.errors),r=i.length));else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),r++}return De.errors=i,0===r}const{validateModule:Se,validateModuleStrict:xe}=t,{validateModulePlus:qe,validateModulePlusStrict:Oe}=t,{validateSystem:Ze,validateSystemStrict:Te}=t,{validateSystemPlus:Ve,validateSystemPlusStrict:_e}=t;function Re(e){const t=(s,a)=>{const n=e(s,a);return t.errors=e.errors,!n&&Array.isArray(t.errors)&&t.errors.length>0&&(t.errors=t.errors.filter((e=>"if"!==e.keyword&&"pattern"!==e.keyword))),n};return t}var Ce=e.validateModule=Re(Se),Ee=e.validateModuleStrict=Re(xe),Le=e.validateModulePlus=Re(qe),Fe=e.validateModulePlusStrict=Re(Oe),Ie=e.validateSystem=Re(Ze),Ne=e.validateSystemStrict=Re(Te),Je=e.validateSystemPlus=Re(Ve),Ke=e.validateSystemPlusStrict=Re(_e);export{e as default,Ce as validateModule,Le as validateModulePlus,Fe as validateModulePlusStrict,Ee as validateModuleStrict,Ie as validateSystem,Je as validateSystemPlus,Ke as validateSystemPlusStrict,Ne as validateSystemStrict};
//# sourceMappingURL=validators.js.map
